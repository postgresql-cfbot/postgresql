CREATE EXTENSION unaccent;
-- must have a UTF8 database
SELECT getdatabaseencoding();
 getdatabaseencoding 
---------------------
 UTF8
(1 row)

SET client_encoding TO 'UTF8';
SELECT unaccent('foobar');
 unaccent 
----------
 foobar
(1 row)

SELECT unaccent('ёлка');
 unaccent 
----------
 елка
(1 row)

SELECT unaccent('ЁЖИК');
 unaccent 
----------
 ЕЖИК
(1 row)

SELECT unaccent('˃˖˗˜');
 unaccent 
----------
 >+-~
(1 row)

SELECT unaccent('À');  -- Remove combining diacritical 0x0300
 unaccent 
----------
 A
(1 row)

SELECT unaccent('ℌ'); -- Controversial conversion from Latin-ASCII.xml
 unaccent 
----------
 x
(1 row)

SELECT unaccent('Chrząszcza szczudłem przechrzcił wąż, Strząsa skrzydła z dżdżu,'); -- Polish
                            unaccent                             
-----------------------------------------------------------------
 Chrzaszcza szczudlem przechrzcil waz, Strzasa skrzydla z dzdzu,
(1 row)

SELECT unaccent('unaccent', 'foobar');
 unaccent 
----------
 foobar
(1 row)

SELECT unaccent('unaccent', 'ёлка');
 unaccent 
----------
 елка
(1 row)

SELECT unaccent('unaccent', 'ЁЖИК');
 unaccent 
----------
 ЕЖИК
(1 row)

SELECT unaccent('unaccent', '˃˖˗˜');
 unaccent 
----------
 >+-~
(1 row)

SELECT unaccent('unaccent', 'À');
 unaccent 
----------
 A
(1 row)

SELECT unaccent('unaccent', 'Łódź ąćęłńóśżź ĄĆĘŁŃÓŚŻŹ'); -- Polish letters
         unaccent         
--------------------------
 Lodz acelnoszz ACELNOSZZ
(1 row)

SELECT ts_lexize('unaccent', 'foobar');
 ts_lexize 
-----------
 
(1 row)

SELECT ts_lexize('unaccent', 'ёлка');
 ts_lexize 
-----------
 {елка}
(1 row)

SELECT ts_lexize('unaccent', 'ЁЖИК');
 ts_lexize 
-----------
 {ЕЖИК}
(1 row)

SELECT ts_lexize('unaccent', '˃˖˗˜');
 ts_lexize 
-----------
 {>+-~}
(1 row)

SELECT ts_lexize('unaccent', 'À');
 ts_lexize 
-----------
 {A}
(1 row)

SELECT unaccent('unaccent', '⅓ ⅜ ℃ ℉ ℗');
     unaccent      
-------------------
 1/3 3/8 °C °F (P)
(1 row)

SELECT unaccent('unaccent', '㎡ ㎥ ㎢ ㎣ ㎧');
     unaccent      
-------------------
 m2 m3 km2 mm3 m/s
(1 row)

