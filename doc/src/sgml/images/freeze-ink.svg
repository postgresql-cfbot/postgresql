<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:xlink="http://www.w3.org/1999/xlink"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   version="1.1"
   width="850px"
   height="320px"
   viewBox="0 0 850 320"
   id="svg147"
   sodipodi:docname="freeze-ink.svg"
   inkscape:version="0.92.5 (2060ec1f9f, 2020-04-08)">
  <metadata
     id="metadata151">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title>Freeze</dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <sodipodi:namedview
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1"
     objecttolerance="10"
     gridtolerance="10"
     guidetolerance="10"
     inkscape:pageopacity="0"
     inkscape:pageshadow="2"
     inkscape:window-width="1295"
     inkscape:window-height="803"
     id="namedview149"
     showgrid="false"
     inkscape:zoom="0.44"
     inkscape:cx="425"
     inkscape:cy="153.18182"
     inkscape:window-x="0"
     inkscape:window-y="27"
     inkscape:window-maximized="0"
     inkscape:current-layer="svg147" />
  <title
     id="title2">Freeze</title>
  <!-- common text classes -->
  <style
     type="text/css"
     id="style4">
  .text_normal  {font-style:normal;
                 font-weight:normal;
                 font-size:14px;
                 font-family:&quot;Open Sans&quot;, sans-serif;
                 fill:black;
                }
  .text_big     {font-style:normal;
                 font-weight:normal;
                 font-size:24px;
                 font-family:&quot;Open Sans&quot;, sans-serif, Helvetica;
                 fill:black;
                }
  </style>
  <defs
     id="defs11">
    <!-- SVG 1.x supports <texPath> only in combination with <path>. SVG 2 allows it with
         every shape element, especially with <circle>. As of 2020 we must restrict ourselves
         to SVG 1. Therefore we simulate a circle by defining two arcs, each of them is
         a half-circle.
    -->
    <path
       id="Path_080"
       d="m -80 0                            a 80 80 0 1 1  160 0                            a 80 80 0 1 1 -160 0" />
    <path
       id="Path_095"
       d="m -95 0                            a 95 95 0 1 1  190 0                            a 95 95 0 1 1 -190 0" />
    <path
       id="Path_120"
       d="m -120 0                            a 120 120 0 1 1  240 0                            a 120 120 0 1 1 -240 0" />
    <!-- split transform="translate(x y) rotate(arc)" into two steps for clarity -->
    <circle
       id="frozenPoint"
       r="3"
       stroke="green"
       fill="green"
       transform="translate(-100, 0)" />
    <circle
       id="unfrozenPoint"
       r="3"
       stroke="green"
       fill="none"
       transform="translate(-100, 0)" />
  </defs>
  <!-- start of rendering area -->
  <!-- enclosing rectangle -->
  <rect
     x="1"
     y="1"
     rx="5"
     width="99%"
     height="99%"
     stroke="black"
     fill="none"
     id="rect13" />
  <text
     class="text_big"
     x="70"
     y="40"
     id="text17"><tspan
   style="font-style:italic;font-weight:bold"
   id="tspan15">
        Freeze</tspan>
 to keep visible</text>
  <!-- set default values -->
  <g
     fill="none"
     transform="translate(170 190)"
     id="g111">
    <circle
       r="100"
       stroke="blue"
       id="circle19" />
    <text
       class="text_normal"
       id="text43">
      <textPath
         xlink:href="#Path_095"
         startOffset="0.5%"
         id="textPath21">|</textPath>
      <textPath
         xlink:href="#Path_120"
         startOffset="00%"
         id="textPath23">(0)</textPath>
      <textPath
         xlink:href="#Path_080"
         startOffset="01%"
         stroke="blue"
         stroke-width="0.5px"
         id="textPath25">
        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - &gt;</textPath>
      <textPath
         xlink:href="#Path_120"
         startOffset="11.2%"
         id="textPath27">(1)</textPath>
      <textPath
         xlink:href="#Path_120"
         startOffset="61.2%"
         id="textPath29">(5)</textPath>
      <textPath
         xlink:href="#Path_095"
         stroke="red"
         stroke-width="3"
         startOffset="34%"
         id="textPath31">|</textPath>
      <textPath
         xlink:href="#Path_120"
         startOffset="34%"
         id="textPath33">(2)</textPath>
      <textPath
         xlink:href="#Path_095"
         stroke="black"
         stroke-width="3"
         startOffset="45%"
         id="textPath35">|</textPath>
      <textPath
         xlink:href="#Path_120"
         startOffset="45%"
         id="textPath37">(3)</textPath>
      <textPath
         xlink:href="#Path_095"
         stroke="green"
         stroke-width="3"
         startOffset="55%"
         id="textPath39">|</textPath>
      <textPath
         xlink:href="#Path_120"
         startOffset="55%"
         id="textPath41">(4)</textPath>
    </text>
    <!-- split it into 'past' and 'future' -->
    <path
       d="M -80 -80 l 160 160"
       stroke="black"
       id="path45" />
    <text
       class="text_normal"
       letter-spacing="12"
       transform="translate(-15, -40) rotate(45)"
       id="text47">PAST</text>
    <text
       class="text_normal"
       letter-spacing="12"
       transform="translate(30, 60) rotate(225)"
       id="text49">FUTURE</text>
    <g
       transform="rotate(10)"
       id="g53">
      <use
         xlink:href="#frozenPoint"
         id="use51" />
    </g>
    <g
       transform="rotate(25)"
       id="g57">
      <use
         xlink:href="#frozenPoint"
         id="use55" />
    </g>
    <g
       transform="rotate(40)"
       id="g61">
      <use
         xlink:href="#frozenPoint"
         id="use59" />
    </g>
    <g
       transform="rotate(55)"
       id="g65">
      <use
         xlink:href="#frozenPoint"
         id="use63" />
    </g>
    <g
       transform="rotate(70)"
       id="g69">
      <use
         xlink:href="#frozenPoint"
         id="use67" />
    </g>
    <g
       transform="rotate(85)"
       id="g73">
      <use
         xlink:href="#frozenPoint"
         id="use71" />
    </g>
    <g
       transform="rotate(100)"
       id="g77">
      <use
         xlink:href="#frozenPoint"
         id="use75" />
    </g>
    <g
       transform="rotate(115)"
       id="g81">
      <use
         xlink:href="#frozenPoint"
         id="use79" />
    </g>
    <g
       transform="rotate(130)"
       id="g85">
      <use
         xlink:href="#frozenPoint"
         id="use83" />
    </g>
    <g
       transform="rotate(145)"
       id="g89">
      <use
         xlink:href="#unfrozenPoint"
         id="use87" />
    </g>
    <g
       transform="rotate(160)"
       id="g93">
      <use
         xlink:href="#frozenPoint"
         id="use91" />
    </g>
    <g
       transform="rotate(175)"
       id="g97">
      <use
         xlink:href="#frozenPoint"
         id="use95" />
    </g>
    <g
       transform="rotate(190)"
       id="g101">
      <use
         xlink:href="#unfrozenPoint"
         id="use99" />
    </g>
    <g
       transform="rotate(205)"
       id="g105">
      <use
         xlink:href="#unfrozenPoint"
         id="use103" />
    </g>
    <g
       transform="rotate(220)"
       id="g109">
      <use
         xlink:href="#unfrozenPoint"
         id="use107" />
    </g>
  </g>
  <!-- legend -->
  <g
     class="text_normal"
     transform="translate(380 30)"
     id="g145">
    <text
       id="text117">0: 0 .. 2  <tspan
   dy="-5"
   id="tspan113">^</tspan>
<tspan
   dy="5"
   id="tspan115">32</tspan>
 - 1</text>
    <text
       y="25"
       id="text119">1: txid_current + 2 ^ 31 (split-point)</text>
    <text
       y="50"
       id="text121">2: autovacuum_freeze_max_age (200 mio.)</text>
    <text
       y="75"
       id="text123">3: vacuum_freeze_table_age (150 mio.)</text>
    <text
       y="100"
       id="text125">4: vacuum_freeze_min_age (50 mio.)</text>
    <text
       y="125"
       id="text127">5: txid_current (split-point, youngest xid)</text>
    <text
       y="155"
       id="text131">per table: pg_class.relfrozenxid
          <tspan
   style="font-weight:bold"
   id="tspan129">must</tspan>
 be between (1) and (5);</text>
    <text
       y="175"
       x="75"
       id="text133">normally it is between (3) and (4)</text>
    <use
       xlink:href="#unfrozenPoint"
       transform="translate(106, 200)"
       id="use135" />
    <text
       y="205"
       x="20"
       id="text137">Unfrozen xid</text>
    <use
       xlink:href="#frozenPoint"
       transform="translate(106, 224)"
       id="use139" />
    <text
       y="230"
       x="20"
       id="text141">Frozen xid</text>
    <text
       y="260"
       id="text143">(figure is out of scale)</text>
  </g>
</svg>
