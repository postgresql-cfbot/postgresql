<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg"
     xmlns:xlink="http://www.w3.org/1999/xlink"
     version="1.1"
     width="850px" height="150px"
     viewBox="0 0 850 150" >

  <title>MVCC</title>

  <!-- common text classes -->
  <style type="text/css">
  .text_normal  {font-style:normal;
                 font-weight:normal;
                 font-size:16px;
                 font-family:"Open Sans", sans-serif;
                 fill:black;
                }
  .text_small   {font-style:normal;
                 font-weight:normal;
                 font-size:10px;
                 font-family:"Open Sans", sans-serif;
                 fill:black;
                }
  </style>

  <defs>
    <marker id="triangle_1"
            markerWidth="10"
            markerHeight="10"
            refX="5"
            refY="5"
            orient="auto" stroke="black" fill="none">
      <path d="M 0,0 L 10,5 L 0,10" />
    </marker>

    <g id="tuple">
      <!-- an rectangle, open at the right side -->
      <path d="M 80 0 h -80 v 20 h 80 M 29 0 v 20 M 60 0 v 20" stroke="black"/>
      <!-- prolong the rectangle -->
      <path d="M 80 0 h 15 M 80 20 h 15" stroke="black" stroke-dasharray="2 1"/>
    </g>

    <!-- an arrow in the form of a quadratic bezier curve -->
    <path id="arrow" d="M 0 0 Q 20 -15 40 0" stroke="black" marker-end="url(#triangle_1)"/>

  </defs>


  <!-- start of rendering area -->
  <!-- enclosing rectangle -->
  <rect x="1" y="1" rx="5" width="99%" height="99%" stroke="black" fill="none" />

  <!-- set default values -->
  <g fill="none">

    <!-- start plus first INSERT -->
    <g transform="translate(20, 40)">

      <text class="text_small"      transform="translate(0, -18)">T
        <tspan style="font-size:8px" dx="-3" dy="5">123</tspan>
        <tspan dx="-2" dy="-5">: INSERT</tspan>
      </text>
      <use xlink:href="#arrow"      transform="translate(5, 0)"/>

      <use xlink:href="#tuple"      transform="translate(60, 70)"/>
      <text class="text_small"      transform="translate(65, 83)" style="fill:blue">123</text>
      <text class="text_small"      transform="translate(95, 83)" style="fill:blue">0</text>
      <text class="text_small"      transform="translate(125, 83)" style="fill:blue">'x'</text>
    </g>

    <!-- first UPDATE -->
    <g transform="translate(185, 40)">
      <text class="text_small"      transform="translate(0, -18)">T
        <tspan style="font-size:8px" dx="-3" dy="5">135</tspan>
        <tspan dx="-2" dy="-5">: UPDATE</tspan>
      </text>
      <use xlink:href="#arrow"      transform="translate(5, 0)"/>

      <use xlink:href="#tuple"      transform="translate(60, 40)"/>
      <text class="text_small"      transform="translate(65, 53)" style="fill:blue">135</text>
      <text class="text_small"      transform="translate(95, 53)" style="fill:blue">0</text>
      <text class="text_small"      transform="translate(125, 53)" style="fill:blue">'y'</text>
      <use xlink:href="#tuple"      transform="translate(60, 70)"/>
      <text class="text_small"      transform="translate(65, 83)">123</text>
      <text class="text_small"      transform="translate(95, 83)" style="fill:blue">135</text>
      <text class="text_small"      transform="translate(125, 83)">'x'</text>
    </g>

    <!-- next UPDATE -->
    <g transform="translate(350, 40)">
      <text class="text_small"      transform="translate(0, -18)">T
        <tspan style="font-size:8px" dx="-3" dy="5">142</tspan>
        <tspan dx="-2" dy="-5">: UPDATE</tspan>
      </text>
      <use xlink:href="#arrow"      transform="translate(5, 0)"/>

      <use xlink:href="#tuple"      transform="translate(60, 10)"/>
      <text class="text_small"      transform="translate(65, 23)" style="fill:blue">142</text>
      <text class="text_small"      transform="translate(95, 23)" style="fill:blue">0</text>
      <text class="text_small"      transform="translate(125, 23)" style="fill:blue">'z'</text>
      <use xlink:href="#tuple"      transform="translate(60, 40)"/>
      <text class="text_small"      transform="translate(65, 53)">135</text>
      <text class="text_small"      transform="translate(95, 53)" style="fill:blue">142</text>
      <text class="text_small"      transform="translate(125, 53)">'y'</text>
      <use xlink:href="#tuple"      transform="translate(60, 70)"/>
      <text class="text_small"      transform="translate(65, 83)">123</text>
      <text class="text_small"      transform="translate(95, 83)">135</text>
      <text class="text_small"      transform="translate(125, 83)">'x'</text>
    </g>

    <!-- DELETE -->
    <g transform="translate(515, 40)">
      <text class="text_small"      transform="translate(0, -18)">T
        <tspan style="font-size:8px" dx="-3" dy="5">821</tspan>
        <tspan dx="-2" dy="-5">: DELTE</tspan>
      </text>
      <use xlink:href="#arrow"      transform="translate(5, 0)"/>

      <use xlink:href="#tuple"      transform="translate(60, 10)"/>
      <text class="text_small"      transform="translate(65, 23)">142</text>
      <text class="text_small"      transform="translate(95, 23)" style="fill:blue">821</text>
      <text class="text_small"      transform="translate(125, 23)">'z'</text>
      <use xlink:href="#tuple"      transform="translate(60, 40)"/>
      <text class="text_small"      transform="translate(65, 53)">135</text>
      <text class="text_small"      transform="translate(95, 53)">142</text>
      <text class="text_small"      transform="translate(125, 53)">'y'</text>
      <use xlink:href="#tuple"      transform="translate(60, 70)"/>
      <text class="text_small"      transform="translate(65, 83)">123</text>
      <text class="text_small"      transform="translate(95, 83)">135</text>
      <text class="text_small"      transform="translate(125, 83)">'x'</text>
    </g>

    <!-- LEGEND -->
    <g transform="translate(740, 110)">
      <path d="M 102 -20 h -120 v 60" stroke="black"/>
      <text class="text_normal"     transform="translate(0, 0)">Legend</text>
      <use xlink:href="#tuple"      transform="translate(0, 10)"/>
      <text class="text_small"      transform="translate(3, 23)">xmin</text>
      <text class="text_small"      transform="translate(32, 23)">xmax</text>
      <text class="text_small"      transform="translate(65, 23)">data</text>
    </g>

  </g>

</svg>
