<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg"
     xmlns:xlink="http://www.w3.org/1999/xlink"
     version="1.1"
     width="900px" height="640px"
     viewBox="0 0 900 640">

  <title>Directory structure of a cluster</title>

  <style type="text/css">
  .text_normal  {font-style:normal;
                 font-weight:normal;
                 font-size:14px;
                 font-family:"Open Sans", sans-serif;
                 fill:black;
                }
  .text_italic  {font-style:italic;
                 font-weight:normal;
                 font-size:14px;
                 font-family:"Open Sans", sans-serif;
                 fill:silver;
                }
  .text_big     {font-style:normal;
                 font-weight:normal;
                 font-size:24px;
                 font-family:"Open Sans", sans-serif;
                 fill:black;
                }
  </style>

  <defs>

    <!-- Directory -->
    <symbol id="directory" stroke="blue" stroke-width="0.3px" fill="aqua">
      <title>Directory</title>
      <rect x="0" y="10" width="110" height="20" />
      <path d="M 0,10 l 0,-2 3,-3 35,0, 3,3  0,2" />
    </symbol>

    <!-- File -->
    <symbol id="file" stroke="black" fill="none" >
      <title>File</title>
      <rect x="0" y="0" width="40" height="50" stroke="blue" />
      <path d="M 5,10 h 20" stroke-dasharray="4 2" />
      <path d="M 5,17 h 15" stroke-dasharray="6 2" />
      <path d="M 5,24 h 25" stroke-dasharray="4 2" />
      <path d="M 5,31 h 20" stroke-dasharray="5 2" />
    </symbol>

  </defs>


  <!-- start of rendering area -->
  <!-- enclosing rectangle -->
  <rect x="1" y="1" rx="5" width="99%" height="99%" stroke="black" fill="none" />

  <!-- caption -->
  <text x="200" y="50"  class="text_big">Directory Structure</text>

  <!-- the directories -->
  <g transform="translate(20, 100)">
    <use xlink:href="#directory" />
    <text x="10"  y="26" class="text_italic">/var/lib/pgsql/</text>
    <text x="300" y="26" class="text_normal">An arbitrary directory</text>
  </g>

  <g transform="translate(70, 130)">
    <use xlink:href="#directory" />
    <text x="10"  y="26" class="text_italic">data/</text>
    <text x="250" y="26" class="text_normal">Cluster's root directory (with an arbitrary name; see: PGDATA)</text>
  </g>

  <g transform="translate(120, 160)">
    <use xlink:href="#directory" />
    <text x="10"  y="26" class="text_normal">base/</text>
    <text x="200" y="26" class="text_normal">Subdirectory containing per-database subdirectories</text>
  </g>

  <!--  -->
  <g transform="translate(170, 190)">
    <use xlink:href="#directory" />
    <text x="10"  y="26" class="text_normal">1/</text>
    <text x="150" y="26" class="text_normal">Subdirectory for data in default-tablespace of first database 'template0'</text>
  </g>
  <g transform="translate(170, 220)">
    <use xlink:href="#directory" />
    <text x="10"  y="26" class="text_normal">12992/</text>
    <text x="150" y="26" class="text_normal">Subdirectory for data in default-tablespace of second database 'template1'</text>
  </g>
  <g transform="translate(170, 250)">
    <use xlink:href="#directory" />
    <text x="10"  y="26" class="text_normal">12999/</text>
    <text x="150" y="26" class="text_normal">Subdirectory for data in default-tablespace of third database 'postgres'</text>
  </g>
  <g transform="translate(170, 280)">
    <use xlink:href="#directory" />
    <text x="10"  y="26" class="text_normal">nnnnn/</text>
    <text x="150" y="26" class="text_normal">Optional: one subdirectory for each new database, e.g. '23456' for 'my_db'</text>
  </g>

  <g transform="translate(120, 310)">
    <use xlink:href="#directory" />
    <text x="10"  y="26" class="text_normal">global/</text>
    <text x="200" y="26" class="text_normal">Subdirectory for information about Global SQL Objects</text>
  </g>

  <g transform="translate(120, 340)">
    <use xlink:href="#directory" />
    <text x="10"  y="26" class="text_normal">pg_tblspc/</text>
    <text x="200" y="26" class="text_normal">Subdirectory for symbolic links to non-default tablespaces</text>
  </g>

  <g transform="translate(120, 370)">
    <use xlink:href="#directory" />
    <text x="10"  y="26" class="text_normal">pg_wal/</text>
    <text x="200" y="26" class="text_normal">Subdirectory for Write Ahead Log files ('pg_xlog' before version 10)</text>
  </g>

  <g transform="translate(120, 400)">
    <use xlink:href="#directory" />
    <text x="10"  y="26" class="text_normal">pg_xact/</text>
    <text x="200" y="26" class="text_normal">Subdirectory for transaction commit status ('pg_clog' before version 10)</text>
  </g>

  <g transform="translate(120, 430)">
    <use xlink:href="#directory" />
    <text x="10"  y="26" class="text_normal">pg_... /</text>
    <text x="200" y="26" class="text_normal">Some more subdirectories</text>
  </g>

  <g transform="translate(120, 465)">
    <use xlink:href="#file" x="0"   y="0"  />
    <use xlink:href="#file" x="50"  y="0"  />
    <text x="200" y="26" class="text_normal">'postmaster.pid' and other files with cluster-wide relevance</text>
  </g>

  <!-- next cluster -->
  <g transform="translate(20, 540)">
    <use xlink:href="#directory" />
    <text x="10"  y="26" class="text_italic">...</text>
    <text x="300" y="26" class="text_normal">Same or another arbitrary directory</text>
  </g>

  <g transform="translate(70, 570)">
    <use xlink:href="#directory" />
    <text x="10"  y="26" class="text_italic">cluster_2/</text>
    <text x="250" y="26" class="text_normal">Root of another cluster</text>
  </g>

</svg>
